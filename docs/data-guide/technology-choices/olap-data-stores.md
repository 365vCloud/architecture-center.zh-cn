---
title: 选择 OLAP 数据存储
description: ''
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: f3041b95696c9408a2c9ab747fe1ec3041db0743
ms.sourcegitcommit: c441fd165e6bebbbbbc19854ec6f3676be9c3b25
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/31/2018
---
# <a name="choosing-an-olap-data-store-in-azure"></a><span data-ttu-id="11b8b-102">在 Azure 中选择 OLAP 数据存储</span><span class="sxs-lookup"><span data-stu-id="11b8b-102">Choosing an OLAP data store in Azure</span></span>

<span data-ttu-id="11b8b-103">联机分析处理 (OLAP) 是一种用于组织大型业务数据库的技术，并且支持复杂分析。</span><span class="sxs-lookup"><span data-stu-id="11b8b-103">Online analytical processing (OLAP) is a technology that organizes large business databases and supports complex analysis.</span></span> <span data-ttu-id="11b8b-104">本主题对 Azure 中针对 OLAP 解决方案的选项进行了比较。</span><span class="sxs-lookup"><span data-stu-id="11b8b-104">This topic compares the options for OLAP solutions in Azure.</span></span>

> [!NOTE]
> <span data-ttu-id="11b8b-105">有关何时使用 OLAP 数据存储的详细信息，请参阅[联机分析处理](../scenarios/online-analytical-processing.md)。</span><span class="sxs-lookup"><span data-stu-id="11b8b-105">For more information about when to use an OLAP data store, see [Online analytical processing](../scenarios/online-analytical-processing.md).</span></span>

## <a name="what-are-your-options-when-choosing-an-olap-data-store"></a><span data-ttu-id="11b8b-106">选择 OLAP 数据存储时有哪些选项？</span><span class="sxs-lookup"><span data-stu-id="11b8b-106">What are your options when choosing an OLAP data store?</span></span>

<span data-ttu-id="11b8b-107">在 Azure 中，以下所有数据存储都将满足 OLAP 的核心要求：</span><span class="sxs-lookup"><span data-stu-id="11b8b-107">In Azure, all of the following data stores will meet the core requirements for OLAP:</span></span>

- [<span data-ttu-id="11b8b-108">具有列存储索引的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="11b8b-108">SQL Server with Columnstore indexes</span></span>](/sql/relational-databases/indexes/get-started-with-columnstore-for-real-time-operational-analytics)
- [<span data-ttu-id="11b8b-109">Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="11b8b-109">Azure Analysis Services</span></span>](/azure/analysis-services/analysis-services-overview)
- [<span data-ttu-id="11b8b-110">SQL Server Analysis Services (SSAS)</span><span class="sxs-lookup"><span data-stu-id="11b8b-110">SQL Server Analysis Services (SSAS)</span></span>](/sql/analysis-services/analysis-services)

<span data-ttu-id="11b8b-111">SQL Server Analysis Services (SSAS) 为商业智能应用程序提供 OLAP 和数据挖掘功能。</span><span class="sxs-lookup"><span data-stu-id="11b8b-111">SQL Server Analysis Services (SSAS) offers OLAP and data mining functionality for business intelligence applications.</span></span> <span data-ttu-id="11b8b-112">可以将 SSAS 安装在本地服务器上，也可以将其安装在 Azure 中的虚拟机内的主机上。</span><span class="sxs-lookup"><span data-stu-id="11b8b-112">You can either install SSAS on local servers, or host within a virtual machine in Azure.</span></span> <span data-ttu-id="11b8b-113">Azure Analysis Services 是一项完全托管的服务，提供与 SSAS 相同的主要功能。</span><span class="sxs-lookup"><span data-stu-id="11b8b-113">Azure Analysis Services is a fully managed service that provides the same major features as SSAS.</span></span> <span data-ttu-id="11b8b-114">Azure Analysis Services 支持连接到云中的[各种数据源](/azure/analysis-services/analysis-services-datasource)和组织中的本地数据源。</span><span class="sxs-lookup"><span data-stu-id="11b8b-114">Azure Analysis Services supports connecting to [various data sources](/azure/analysis-services/analysis-services-datasource) in the cloud and on-premises in your organization.</span></span>

<span data-ttu-id="11b8b-115">聚集列存储索引在 SQL Server 2014 及更高版本中可用，并且最适用于 OLAP 工作负荷。</span><span class="sxs-lookup"><span data-stu-id="11b8b-115">Clustered Columnstore indexes are available in SQL Server 2014 and above, as well as Azure SQL Database, and are ideal for OLAP workloads.</span></span> <span data-ttu-id="11b8b-116">但是，从 SQL Server 2016（包括 Azure SQL 数据库）开始，可以通过使用可更新的非聚集列存储索引来利用混合事务/分析处理 (HTAP)。</span><span class="sxs-lookup"><span data-stu-id="11b8b-116">However, beginning with SQL Server 2016 (including Azure SQL Database), you can take advantage of hybrid transactional/analytics processing (HTAP) through the use of updateable nonclustered columnstore indexes.</span></span> <span data-ttu-id="11b8b-117">HTAP 使得你可以在同一平台上执行 OLTP 和 OLAP 处理，这样将不需要存储数据的多个副本，并且不需要具有不同的 OLTP 和 OLAP 系统。</span><span class="sxs-lookup"><span data-stu-id="11b8b-117">HTAP enables you to perform OLTP and OLAP processing on the same platform, which removes the need to store multiple copies of your data, and eliminates the need for distinct OLTP and OLAP systems.</span></span> <span data-ttu-id="11b8b-118">有关详细信息，请参阅 [Get started with Columnstore for real-time operational analytics](/sql/relational-databases/indexes/get-started-with-columnstore-for-real-time-operational-analytics)（用于实时运营分析的列存储入门）。</span><span class="sxs-lookup"><span data-stu-id="11b8b-118">For more information, see [Get started with Columnstore for real-time operational analytics](/sql/relational-databases/indexes/get-started-with-columnstore-for-real-time-operational-analytics).</span></span>

## <a name="key-selection-criteria"></a><span data-ttu-id="11b8b-119">关键选择条件</span><span class="sxs-lookup"><span data-stu-id="11b8b-119">Key selection criteria</span></span>

<span data-ttu-id="11b8b-120">若要缩小选择范围，请先回答以下问题：</span><span class="sxs-lookup"><span data-stu-id="11b8b-120">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="11b8b-121">你希望使用托管服务还是由你管理自己的服务器？</span><span class="sxs-lookup"><span data-stu-id="11b8b-121">Do you want a managed service rather than managing your own servers?</span></span>

- <span data-ttu-id="11b8b-122">是否要求使用 Azure Active Directory (Azure AD) 进行安全的身份验证？</span><span class="sxs-lookup"><span data-stu-id="11b8b-122">Do you require secure authentication using Azure Active Directory (Azure AD)?</span></span>

- <span data-ttu-id="11b8b-123">是否要执行实时分析？</span><span class="sxs-lookup"><span data-stu-id="11b8b-123">Do you want to conduct real-time analytics?</span></span> <span data-ttu-id="11b8b-124">如果是，请将选项范围缩小到支持实时分析的那些选项。</span><span class="sxs-lookup"><span data-stu-id="11b8b-124">If so, narrow your options to those that support real-time analytics.</span></span> 

    <span data-ttu-id="11b8b-125">此上下文中的“实时分析”适用于将同时运行运营和分析工作负荷的单个数据源，例如企业资源规划 (ERP) 应用程序。</span><span class="sxs-lookup"><span data-stu-id="11b8b-125">*Real-time analytics* in this context applies to a single data source, such as an enterprise resource planning (ERP) application, that will run both an operational and an analytics workload.</span></span> <span data-ttu-id="11b8b-126">如果需要集成来自多个源的数据，或者需要使用预先聚合的数据（例如多维数据集）来获得极致分析性能，你可能还需要一个单独的数据仓库。</span><span class="sxs-lookup"><span data-stu-id="11b8b-126">If you need to integrate data from multiple sources, or require extreme analytics performance by using pre-aggregated data such as cubes, you might still require a separate data warehouse.</span></span>

- <span data-ttu-id="11b8b-127">是否需要使用预先聚合的数据，例如，提供使分析对业务用户而言更友好的语义模型？</span><span class="sxs-lookup"><span data-stu-id="11b8b-127">Do you need to use pre-aggregated data, for example to provide semantic models that make analytics more business user friendly?</span></span> <span data-ttu-id="11b8b-128">如果是，请选择一个支持多维数据集或表格语义模型的选项。</span><span class="sxs-lookup"><span data-stu-id="11b8b-128">If yes, choose an option that supports multidimensional cubes or tabular semantic models.</span></span> 

    <span data-ttu-id="11b8b-129">提供聚合可以帮助用户一致地计算数据聚合。</span><span class="sxs-lookup"><span data-stu-id="11b8b-129">Providing aggregates can help users consistently calculate data aggregates.</span></span> <span data-ttu-id="11b8b-130">当处理许多行中的多个列时，预先聚合的数据还可以提供很大的性能提升。</span><span class="sxs-lookup"><span data-stu-id="11b8b-130">Pre-aggregated data can also provide a large performance boost when dealing with several columns across many rows.</span></span> <span data-ttu-id="11b8b-131">数据可以在多维数据集中预先聚合，也可以在表格语义模型中预先聚合。</span><span class="sxs-lookup"><span data-stu-id="11b8b-131">Data can be pre-aggregated in multidimensional cubes or tabular semantic models.</span></span>

- <span data-ttu-id="11b8b-132">除了 OLTP 数据存储外，是否需要集成来自其他多个源的数据？</span><span class="sxs-lookup"><span data-stu-id="11b8b-132">Do you need to integrate data from several sources, beyond your OLTP data store?</span></span> <span data-ttu-id="11b8b-133">如果是，请考虑可以轻松集成多个数据源的选项。</span><span class="sxs-lookup"><span data-stu-id="11b8b-133">If so, consider options that easily integrate multiple data sources.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="11b8b-134">功能矩阵</span><span class="sxs-lookup"><span data-stu-id="11b8b-134">Capability matrix</span></span>

<span data-ttu-id="11b8b-135">以下各表汇总了功能上的关键差异。</span><span class="sxs-lookup"><span data-stu-id="11b8b-135">The following tables summarize the key differences in capabilities.</span></span>

### <a name="general-capabilities"></a><span data-ttu-id="11b8b-136">常规功能</span><span class="sxs-lookup"><span data-stu-id="11b8b-136">General capabilities</span></span>

| | <span data-ttu-id="11b8b-137">Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="11b8b-137">Azure Analysis Services</span></span> | <span data-ttu-id="11b8b-138">SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="11b8b-138">SQL Server Analysis Services</span></span> | <span data-ttu-id="11b8b-139">具有列存储索引的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="11b8b-139">SQL Server with Columnstore Indexes</span></span> | <span data-ttu-id="11b8b-140">具有列存储索引的 Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="11b8b-140">Azure SQL Database with Columnstore Indexes</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="11b8b-141">是托管服务</span><span class="sxs-lookup"><span data-stu-id="11b8b-141">Is managed service</span></span> | <span data-ttu-id="11b8b-142">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-142">Yes</span></span> | <span data-ttu-id="11b8b-143">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-143">No</span></span> | <span data-ttu-id="11b8b-144">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-144">No</span></span> | <span data-ttu-id="11b8b-145">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-145">Yes</span></span> |
| <span data-ttu-id="11b8b-146">支持多维数据集</span><span class="sxs-lookup"><span data-stu-id="11b8b-146">Supports multidimensional cubes</span></span> | <span data-ttu-id="11b8b-147">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-147">No</span></span> | <span data-ttu-id="11b8b-148">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-148">Yes</span></span> | <span data-ttu-id="11b8b-149">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-149">No</span></span> | <span data-ttu-id="11b8b-150">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-150">No</span></span> |
| <span data-ttu-id="11b8b-151">支持表格语义模型</span><span class="sxs-lookup"><span data-stu-id="11b8b-151">Supports tabular semantic models</span></span> | <span data-ttu-id="11b8b-152">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-152">Yes</span></span> | <span data-ttu-id="11b8b-153">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-153">Yes</span></span> | <span data-ttu-id="11b8b-154">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-154">No</span></span> | <span data-ttu-id="11b8b-155">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-155">No</span></span> |
| <span data-ttu-id="11b8b-156">轻松集成多个数据源</span><span class="sxs-lookup"><span data-stu-id="11b8b-156">Easily integrate multiple data sources</span></span> | <span data-ttu-id="11b8b-157">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-157">Yes</span></span> | <span data-ttu-id="11b8b-158">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-158">Yes</span></span> | <span data-ttu-id="11b8b-159">否 <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="11b8b-159">No <sup>1</sup></span></span> | <span data-ttu-id="11b8b-160">否 <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="11b8b-160">No <sup>1</sup></span></span> |
| <span data-ttu-id="11b8b-161">支持实时分析</span><span class="sxs-lookup"><span data-stu-id="11b8b-161">Supports real-time analytics</span></span> | <span data-ttu-id="11b8b-162">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-162">No</span></span> | <span data-ttu-id="11b8b-163">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-163">No</span></span> | <span data-ttu-id="11b8b-164">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-164">Yes</span></span> | <span data-ttu-id="11b8b-165">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-165">Yes</span></span> |
| <span data-ttu-id="11b8b-166">要求具有从多个源复制数据的流程</span><span class="sxs-lookup"><span data-stu-id="11b8b-166">Requires process to copy data from source(s)</span></span> | <span data-ttu-id="11b8b-167">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-167">Yes</span></span> | <span data-ttu-id="11b8b-168">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-168">Yes</span></span> | <span data-ttu-id="11b8b-169">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-169">No</span></span> | <span data-ttu-id="11b8b-170">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-170">No</span></span> |
| <span data-ttu-id="11b8b-171">Azure AD 集成</span><span class="sxs-lookup"><span data-stu-id="11b8b-171">Azure AD integration</span></span> | <span data-ttu-id="11b8b-172">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-172">Yes</span></span> | <span data-ttu-id="11b8b-173">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-173">No</span></span> | <span data-ttu-id="11b8b-174">否 <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="11b8b-174">No <sup>2</sup></span></span> | <span data-ttu-id="11b8b-175">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-175">Yes</span></span> |

<span data-ttu-id="11b8b-176">[1] 虽然 SQL Server 和 Azure SQL 数据库无法用来从多个外部数据源进行查询以及与之进行集成，但仍然可以构建一个管道并通过它使用 [SSIS](/sql/integration-services/sql-server-integration-services) 或 [Azure 数据工厂](/azure/data-factory/)执行此操作。</span><span class="sxs-lookup"><span data-stu-id="11b8b-176">[1] Although SQL Server and Azure SQL Database cannot be used to query from and integrate multiple external data sources, you can still build a pipeline that does this for you using [SSIS](/sql/integration-services/sql-server-integration-services) or [Azure Data Factory](/azure/data-factory/).</span></span> <span data-ttu-id="11b8b-177">Azure VM 中托管的 SQL Server 具有其他选项，例如链接服务器和 [PolyBase](/sql/relational-databases/polybase/polybase-guide)。</span><span class="sxs-lookup"><span data-stu-id="11b8b-177">SQL Server hosted in an Azure VM has additional options, such as linked servers and [PolyBase](/sql/relational-databases/polybase/polybase-guide).</span></span> <span data-ttu-id="11b8b-178">有关详细信息，请参阅[管道业务流程、控制流和数据移动](../technology-choices/pipeline-orchestration-data-movement.md)。</span><span class="sxs-lookup"><span data-stu-id="11b8b-178">For more information, see [Pipeline orchestration, control flow, and data movement](../technology-choices/pipeline-orchestration-data-movement.md).</span></span>

<span data-ttu-id="11b8b-179">[2] 不支持使用 Azure AD 帐户连接到在 Azure 虚拟机上运行的 SQL Server。</span><span class="sxs-lookup"><span data-stu-id="11b8b-179">[2] Connecting to SQL Server running on an Azure Virtual Machine is not supported using an Azure AD account.</span></span> <span data-ttu-id="11b8b-180">请改用域 Active Directory 帐户。</span><span class="sxs-lookup"><span data-stu-id="11b8b-180">Use a domain Active Directory account instead.</span></span>

### <a name="scalability-capabilities"></a><span data-ttu-id="11b8b-181">可伸缩性功能</span><span class="sxs-lookup"><span data-stu-id="11b8b-181">Scalability Capabilities</span></span>

| | <span data-ttu-id="11b8b-182">Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="11b8b-182">Azure Analysis Services</span></span> | <span data-ttu-id="11b8b-183">SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="11b8b-183">SQL Server Analysis Services</span></span> | <span data-ttu-id="11b8b-184">具有列存储索引的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="11b8b-184">SQL Server with Columnstore Indexes</span></span> | <span data-ttu-id="11b8b-185">具有列存储索引的 Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="11b8b-185">Azure SQL Database with Columnstore Indexes</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="11b8b-186">用于实现高可用性的的冗余区域服务器</span><span class="sxs-lookup"><span data-stu-id="11b8b-186">Redundant regional servers for high availability</span></span>  | <span data-ttu-id="11b8b-187">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-187">Yes</span></span> | <span data-ttu-id="11b8b-188">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-188">No</span></span> | <span data-ttu-id="11b8b-189">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-189">Yes</span></span> | <span data-ttu-id="11b8b-190">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-190">Yes</span></span> |
| <span data-ttu-id="11b8b-191">支持查询横向扩展</span><span class="sxs-lookup"><span data-stu-id="11b8b-191">Supports query scale out</span></span>  | <span data-ttu-id="11b8b-192">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-192">Yes</span></span> | <span data-ttu-id="11b8b-193">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-193">No</span></span> | <span data-ttu-id="11b8b-194">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-194">Yes</span></span> | <span data-ttu-id="11b8b-195">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-195">No</span></span> |
| <span data-ttu-id="11b8b-196">动态可伸缩性（纵向扩展）</span><span class="sxs-lookup"><span data-stu-id="11b8b-196">Dynamic scalability (scale up)</span></span>  | <span data-ttu-id="11b8b-197">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-197">Yes</span></span> | <span data-ttu-id="11b8b-198">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-198">No</span></span> | <span data-ttu-id="11b8b-199">是</span><span class="sxs-lookup"><span data-stu-id="11b8b-199">Yes</span></span> | <span data-ttu-id="11b8b-200">否</span><span class="sxs-lookup"><span data-stu-id="11b8b-200">No</span></span> |

