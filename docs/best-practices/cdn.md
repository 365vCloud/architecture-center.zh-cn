---
title: "内容交付网络指南"
description: "有关使用内容交付网络 (CDN) 传送 Azure 中托管的高带宽内容的指南。"
author: dragon119
ms.date: 09/30/2016
pnp.series.title: Best Practices
ms.openlocfilehash: fffe0b0523c0a9c817f4346744ff3b5e3f11dede
ms.sourcegitcommit: cf207fd10110f301f1e05f91eeb9f8dfca129164
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/29/2018
---
# <a name="content-delivery-network"></a><span data-ttu-id="c5aa3-103">内容传送网络</span><span class="sxs-lookup"><span data-stu-id="c5aa3-103">Content Delivery Network</span></span>
[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="c5aa3-104">Microsoft Azure [内容交付网络 (CDN)](/azure/cdn/cdn-overview) 为开发人员提供一个全局解决方案，用于传递 Azure 或其他任何位置中托管的高带宽内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-104">The Microsoft Azure [Content Delivery Network (CDN)](/azure/cdn/cdn-overview) offers developers a global solution for delivering high-bandwidth content that is hosted in Azure or any other location.</span></span> <span data-ttu-id="c5aa3-105">使用 CDN，可以缓存从 Azure Blob 存储、Web 应用程序、虚拟机、应用程序文件夹或其他 HTTP/HTTPS 位置加载的公开对象。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-105">Using the CDN, you can cache publicly available objects loaded from Azure blob storage, a web application, virtual machine, application folder, or other HTTP/HTTPS location.</span></span> <span data-ttu-id="c5aa3-106">可以将 CDN 缓存定位在战略性的位置上，以便提供最大的带宽向用户传送内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-106">The CDN cache can be held at strategic locations to provide maximum bandwidth for delivering content to users.</span></span> <span data-ttu-id="c5aa3-107">CDN 通常用于传送静态内容，例如图像、样式表、文档、文件、客户端脚本和 HTML 页面。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-107">The CDN is typically used for delivering static content such as images, style sheets, documents, files, client-side scripts, and HTML pages.</span></span>

<span data-ttu-id="c5aa3-108">还可以使用 CDN 作为提供动态内容的缓存（例如，基于指定输入的 PDF 报告或图表）；如果不同的用户提供了相同的输入值，结果应该相同。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-108">You can also use the CDN as a cache for serving dynamic content, such as a PDF report or graph based on specified inputs; if the same input values are provided by different users the result should be the same.</span></span>

<span data-ttu-id="c5aa3-109">使用 CDN 的主优点是较低的延迟和更快将内容传送给用户，而与托管应用程序的数据中心的地理位置无关。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-109">The major advantages of using the CDN are lower latency and faster delivery of content to users irrespective of their geographical location in relation to the datacenter where the application is hosted.</span></span>  

![CDN 示意图](./images/cdn/CDN.png)

<span data-ttu-id="c5aa3-111">使用 CDN 还应有助于减少应用程序上的负载，因为它能缓解访问和传送内容所需的处理。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-111">Using the CDN should also help to reduce the load on application because it is relieved of the processing required to access and deliver the content.</span></span> <span data-ttu-id="c5aa3-112">这种降低负载的优点可帮助提高应用程序的性能和伸缩性，以及减少达到特定级别的性能和可用性所需的处理资源，从而将托管成本降到最低。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-112">This reduction in load can help to increase the performance and scalability of the application, as well as minimizing hosting costs by reducing the processing resources required to achieve a specific level of performance and availability.</span></span>

## <a name="how-and-why-a-cdn-is-used"></a><span data-ttu-id="c5aa3-113">如何和为何使用 CDN</span><span class="sxs-lookup"><span data-stu-id="c5aa3-113">How and why a CDN is used</span></span>
<span data-ttu-id="c5aa3-114">CDN 的典型用途包括：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-114">Typical uses for a CDN include:</span></span>  

* <span data-ttu-id="c5aa3-115">传送客户端应用程序的静态资源，通常来自网站。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-115">Delivering static resources for client applications, often from a website.</span></span> <span data-ttu-id="c5aa3-116">这些资源可以是图像、样式表、文档、文件、客户端脚本、HTML 页面、HTML 片段，或服务器无需为每个请求修改的任何其他内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-116">These resources can be images, style sheets, documents, files, client-side scripts, HTML pages, HTML fragments, or any other content that the server does not need to modify for each request.</span></span> <span data-ttu-id="c5aa3-117">应用程序可以在运行时创建项，并让 CDN 使用它们（例如，通过创建当前头条新闻列表），但不会为每个请求都这么做。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-117">The application can create items at runtime and make them available to the CDN (for example, by creating a list of current news headlines), but it does not do so for each request.</span></span>
* <span data-ttu-id="c5aa3-118">将公共静态内容和共享内容传送给设备，例如移动电话和平板电脑。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-118">Delivering public static and shared content to devices such as mobile phones and tablet computers.</span></span> <span data-ttu-id="c5aa3-119">应用程序本身是一个 Web 服务，可将 API 提供给不同设备上运行的客户端。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-119">The application itself is a web service that offers an API to clients running on the various devices.</span></span> <span data-ttu-id="c5aa3-120">CDN 还可以通过 Web 服务传送静态数据集供客户端使用（也许用于生成客户端 UI）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-120">The CDN can also deliver static datasets (via the web service) for the clients to use, perhaps to generate the client UI.</span></span> <span data-ttu-id="c5aa3-121">例如，CDN 可用于分发 JSON 或 XML 文档。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-121">For example, the CDN could be used to distribute JSON or XML documents.</span></span>
* <span data-ttu-id="c5aa3-122">让客户端使用仅包含公共静态内容的整个网站，而无需任何专用计算资源。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-122">Serving entire websites that consist of only public static content to clients, without requiring any dedicated compute resources.</span></span>
* <span data-ttu-id="c5aa3-123">根据需要将视频文件流式传输到客户端。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-123">Streaming video files to the client on demand.</span></span> <span data-ttu-id="c5aa3-124">视频可从提供 CDN 连接的全球数据中心获得低延迟和可靠连接的好处。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-124">Video benefits from the low latency and reliable connectivity available from the globally located datacenters that offer CDN connections.</span></span> <span data-ttu-id="c5aa3-125">Microsoft Azure 媒体服务 (AMS) 与 Azure CDN 集成，向 CDN 直接传送内容以实现进一步的内容分发。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-125">Microsoft Azure Media Services (AMS) integrates with Azure CDN to deliver content directly to the CDN for further distribution.</span></span> <span data-ttu-id="c5aa3-126">有关详细信息，请参阅[流式处理终结点概述](/azure/media-services/media-services-streaming-endpoints-overview)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-126">For more information, see [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview).</span></span>
* <span data-ttu-id="c5aa3-127">一般而言，这可以改善用户体验，特别是与托管应用程序的数据中心距离遥远的用户。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-127">Generally improving the experience for users, especially those located far from the datacenter hosting the application.</span></span> <span data-ttu-id="c5aa3-128">否则，这些用户可能会遇到较高的延迟。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-128">These users might otherwise suffer higher latency.</span></span> <span data-ttu-id="c5aa3-129">Web 应用程序中内容的总大小基本上都是静态的，使用 CDN 有助于保持性能和总体用户体验，同时无需将应用程序部署到多个数据中心。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-129">A large proportion of the total size of the content in a web application is often static, and using the CDN can help to maintain performance and overall user experience while eliminating the requirement to deploy the application to multiple data centers.</span></span>
* <span data-ttu-id="c5aa3-130">应对支持 IoT（物联网）解决方案的应用程序日益增加的负载。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-130">Handling the growing load on applications that support IoT (Internet of Things) solutions.</span></span> <span data-ttu-id="c5aa3-131">如果需要处理广播消息和直接管理面向每个设备的固件更新分发，则大量此类设备和装置可能很容易使应用程序无法应对。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-131">The huge numbers of such devices and appliances involved could easily overwhelm an application if it was required to process broadcast messages and manage firmware update distribution directly to each device.</span></span>
* <span data-ttu-id="c5aa3-132">应对需求高峰和浪涌而无需缩放应用程序，避免增加后续运行成本。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-132">Coping with peaks and surges in demand without requiring the application to scale, avoiding the consequent increased running costs.</span></span> <span data-ttu-id="c5aa3-133">例如，对于硬件设备（例如特定型号的路由器）或消费型设备（例如智能电视）发布操作系统更新时，如果数以百万的用户和设备在短期间内下载更新，则可能会根据需要生成庞大的高峰量。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-133">For example, when an update to an operating system is released for a hardware device such as a specific model of router, or for a consumer device such as a smart TV, there will be a huge peak in demand as it is downloaded by millions of users and devices over a short period.</span></span>

<span data-ttu-id="c5aa3-134">以下列表显示了来自不同地理位置的第一个字节的时间中间值示例。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-134">The following list shows examples of the median time to first byte from various geographic locations.</span></span> <span data-ttu-id="c5aa3-135">目标 Web 角色部署到 Azure 美国西部。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-135">The target web role is deployed to Azure West US.</span></span> <span data-ttu-id="c5aa3-136">因为 CDN 很靠近 CDN 节点，因此较大的促升之间有更强的关联性。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-136">There is a strong correlation between greater boost due to the CDN and proximity to a CDN node.</span></span> <span data-ttu-id="c5aa3-137">有关 Azure CDN 节点位置的完整列表，请参阅 [Azure Content Delivery Network (CDN) Node Locations](/azure/cdn/cdn-pop-locations/)（Azure 内容交付网络 (CDN) 节点位置）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-137">A complete list of Azure CDN node locations is available at [Azure Content Delivery Network (CDN) Node Locations](/azure/cdn/cdn-pop-locations/).</span></span>

|  | <span data-ttu-id="c5aa3-138">距第一字节的时间（源）</span><span class="sxs-lookup"><span data-stu-id="c5aa3-138">Time (ms) to First Byte (Origin)</span></span> | <span data-ttu-id="c5aa3-139">距第一字节的时间 (CDN)</span><span class="sxs-lookup"><span data-stu-id="c5aa3-139">Time (ms) to First (CDN)</span></span> | <span data-ttu-id="c5aa3-140">CDN 时间改善百分比</span><span class="sxs-lookup"><span data-stu-id="c5aa3-140">%CDN time improvement</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="c5aa3-141">\*加利福尼亚州圣何塞</span><span class="sxs-lookup"><span data-stu-id="c5aa3-141">\*San Jose, CA</span></span> |<span data-ttu-id="c5aa3-142">47.5</span><span class="sxs-lookup"><span data-stu-id="c5aa3-142">47.5</span></span> |<span data-ttu-id="c5aa3-143">46.5</span><span class="sxs-lookup"><span data-stu-id="c5aa3-143">46.5</span></span> |<span data-ttu-id="c5aa3-144">2%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-144">2%</span></span> |
| <span data-ttu-id="c5aa3-145">\*\*弗吉尼亚州杜勒斯</span><span class="sxs-lookup"><span data-stu-id="c5aa3-145">\*\*Dulles, VA</span></span> |<span data-ttu-id="c5aa3-146">109</span><span class="sxs-lookup"><span data-stu-id="c5aa3-146">109</span></span> |<span data-ttu-id="c5aa3-147">40.5</span><span class="sxs-lookup"><span data-stu-id="c5aa3-147">40.5</span></span> |<span data-ttu-id="c5aa3-148">169%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-148">169%</span></span> |
| <span data-ttu-id="c5aa3-149">阿根廷布宜诺斯艾利斯</span><span class="sxs-lookup"><span data-stu-id="c5aa3-149">Buenos Aires, AR</span></span> |<span data-ttu-id="c5aa3-150">210</span><span class="sxs-lookup"><span data-stu-id="c5aa3-150">210</span></span> |<span data-ttu-id="c5aa3-151">151</span><span class="sxs-lookup"><span data-stu-id="c5aa3-151">151</span></span> |<span data-ttu-id="c5aa3-152">39%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-152">39%</span></span> |
| <span data-ttu-id="c5aa3-153">\*英国伦敦</span><span class="sxs-lookup"><span data-stu-id="c5aa3-153">\*London, UK</span></span> |<span data-ttu-id="c5aa3-154">195</span><span class="sxs-lookup"><span data-stu-id="c5aa3-154">195</span></span> |<span data-ttu-id="c5aa3-155">44</span><span class="sxs-lookup"><span data-stu-id="c5aa3-155">44</span></span> |<span data-ttu-id="c5aa3-156">343%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-156">343%</span></span> |
| <span data-ttu-id="c5aa3-157">中国上海</span><span class="sxs-lookup"><span data-stu-id="c5aa3-157">Shanghai, CN</span></span> |<span data-ttu-id="c5aa3-158">242</span><span class="sxs-lookup"><span data-stu-id="c5aa3-158">242</span></span> |<span data-ttu-id="c5aa3-159">206</span><span class="sxs-lookup"><span data-stu-id="c5aa3-159">206</span></span> |<span data-ttu-id="c5aa3-160">17%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-160">17%</span></span> |
| <span data-ttu-id="c5aa3-161">\*新加坡</span><span class="sxs-lookup"><span data-stu-id="c5aa3-161">\*Singapore</span></span> |<span data-ttu-id="c5aa3-162">214</span><span class="sxs-lookup"><span data-stu-id="c5aa3-162">214</span></span> |<span data-ttu-id="c5aa3-163">74</span><span class="sxs-lookup"><span data-stu-id="c5aa3-163">74</span></span> |<span data-ttu-id="c5aa3-164">189%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-164">189%</span></span> |
| <span data-ttu-id="c5aa3-165">\*日本东京</span><span class="sxs-lookup"><span data-stu-id="c5aa3-165">\*Tokyo, JP</span></span> |<span data-ttu-id="c5aa3-166">163</span><span class="sxs-lookup"><span data-stu-id="c5aa3-166">163</span></span> |<span data-ttu-id="c5aa3-167">48</span><span class="sxs-lookup"><span data-stu-id="c5aa3-167">48</span></span> |<span data-ttu-id="c5aa3-168">204%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-168">204%</span></span> |
| <span data-ttu-id="c5aa3-169">韩国首尔</span><span class="sxs-lookup"><span data-stu-id="c5aa3-169">Seoul, KR</span></span> |<span data-ttu-id="c5aa3-170">190</span><span class="sxs-lookup"><span data-stu-id="c5aa3-170">190</span></span> |<span data-ttu-id="c5aa3-171">190</span><span class="sxs-lookup"><span data-stu-id="c5aa3-171">190</span></span> |<span data-ttu-id="c5aa3-172">0%</span><span class="sxs-lookup"><span data-stu-id="c5aa3-172">0%</span></span> |

<span data-ttu-id="c5aa3-173">\* 在同一城市设有 Azure CDN 节点。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-173">\* Has an Azure CDN node in the same city.</span></span>  
<span data-ttu-id="c5aa3-174">\*\* 在相邻城市设有 Azure CDN 节点。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-174">\*\* Has an Azure CDN node in a neighboring city.</span></span>  

## <a name="challenges"></a><span data-ttu-id="c5aa3-175">挑战</span><span class="sxs-lookup"><span data-stu-id="c5aa3-175">Challenges</span></span>
<span data-ttu-id="c5aa3-176">计划使用 CDN 时必须考虑到几个难题：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-176">There are several challenges to take into account when planning to use the CDN:</span></span>  

* <span data-ttu-id="c5aa3-177">**部署**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-177">**Deployment**.</span></span> <span data-ttu-id="c5aa3-178">确定 CDN 从中提取内容的来源，以及是否需要将内容部署到多个存储系统（例如在 CDN 和替代位置中）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-178">Decide the origin from which the CDN fetches the content, and whether you need to deploy the content in more than one storage system (such as in the CDN and an alternative location).</span></span>

  <span data-ttu-id="c5aa3-179">应用程序部署机制必须考虑部署静态内容和资源以及部署应用程序文件（例如 ASPX 页）的过程。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-179">Your application deployment mechanism must take into account the process for deploying static content and resources as well as deploying the application files, such as ASPX pages.</span></span> <span data-ttu-id="c5aa3-180">例如，可能需要执行单独的步骤才能将内容加载到 Azure Blob 存储中。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-180">For example, you may need to implement a separate step to load content into Azure blob storage.</span></span>
* <span data-ttu-id="c5aa3-181">**版本控制和缓存控制**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-181">**Versioning and cache-control**.</span></span> <span data-ttu-id="c5aa3-182">考虑如何更新静态内容和部署新版本。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-182">Consider how you will update static content and deploy new versions.</span></span> <span data-ttu-id="c5aa3-183">当有新的资产版本可用时，可以使用 Azure 门户[清除](/azure/cdn/cdn-purge-endpoint/) CDN 内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-183">The CDN content may be [purged](/azure/cdn/cdn-purge-endpoint/) using the Azure portal when new versions of your assets are available.</span></span> <span data-ttu-id="c5aa3-184">这与管理客户端缓存（如在 Web 浏览器中）时遇到的难题类似。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-184">This is a similar challenge to managing client-side caching, such as that which occurs in a web browser.</span></span>
* <span data-ttu-id="c5aa3-185">**测试**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-185">**Testing**.</span></span> <span data-ttu-id="c5aa3-186">在本地或在过渡环境中开发和测试应用程序时，很难对 CDN 设置执行本地测试。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-186">It can be difficult to perform local testing of your CDN settings when developing and testing an application locally or in a staging environment.</span></span>
* <span data-ttu-id="c5aa3-187">**搜索引擎优化 (SEO)**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-187">**Search engine optimization (SEO)**.</span></span> <span data-ttu-id="c5aa3-188">使用 CDN 时，图像和文档等内容由不同的域提供。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-188">Content such as images and documents are served from a different domain when you use the CDN.</span></span> <span data-ttu-id="c5aa3-189">这可能会影响此内容的 SEO。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-189">This can have an effect on SEO for this content.</span></span>
* <span data-ttu-id="c5aa3-190">**内容安全性**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-190">**Content security**.</span></span> <span data-ttu-id="c5aa3-191">许多 CDN 服务（例如 Azure CDN）当前不提供任何类型的内容访问控制。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-191">Many CDN services such as Azure CDN do not currently offer any type of access control for the content.</span></span>
* <span data-ttu-id="c5aa3-192">**客户端安全性**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-192">**Client security**.</span></span> <span data-ttu-id="c5aa3-193">客户端可从不允许访问 CDN 上资源的环境中连接。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-193">Clients might connect from an environment that does not allow access to resources on the CDN.</span></span> <span data-ttu-id="c5aa3-194">这可能是安全约束的环境，限制只能访问一组已知源，或防止从页来源以外的任何位置加载资源的环境。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-194">This could be a security-constrained environment that limits access to only a set of known sources, or one that prevents loading of resources from anything other than the page origin.</span></span> <span data-ttu-id="c5aa3-195">需要实施回退才能处理这些情况。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-195">A fallback implementation is required to handle these cases.</span></span>
* <span data-ttu-id="c5aa3-196">**复原能力**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-196">**Resilience**.</span></span> <span data-ttu-id="c5aa3-197">CDN 是应用程序潜在的单个故障点。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-197">The CDN is a potential single point of failure for an application.</span></span> <span data-ttu-id="c5aa3-198">它比 Blob 存储具有更低的可用性 SLA（可用于直接传送内容），因此可能需要考虑为重要内容实施故障回复机制。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-198">It has a lower availability SLA than blob storage (which can be used to deliver content directly) so you may need to consider implementing a fallback mechanism for critical content.</span></span>

  <span data-ttu-id="c5aa3-199">可以在 Azure 门户中通过[实时](/azure/cdn/cdn-real-time-stats/)的[聚合报告](/azure/cdn/cdn-analyze-usage-patterns/)监视 CDN 的内容可用性、带宽、传输的数据、点击数、缓存命中率和缓存指标。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-199">You can monitor your CDN content availability, bandwidth, data transferred, hits, cache hit ratio, and cache metrics from the Azure portal in [real-time](/azure/cdn/cdn-real-time-stats/) and [aggregate reports](/azure/cdn/cdn-analyze-usage-patterns/).</span></span>

<span data-ttu-id="c5aa3-200">CDN 用处不大的应用场景包括：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-200">Scenarios where CDN may be less useful include:</span></span>  

* <span data-ttu-id="c5aa3-201">如果内容点击率偏低，则可能表示该内容在有效期（由其生存时间设置确定）只被访问了几次。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-201">If the content has a low hit rate, it might be accessed only few times while it is valid (determined by its time-to-live setting).</span></span> <span data-ttu-id="c5aa3-202">第一次下载项时产生两笔交易费用（从来源到 CDN，然后从 CDN 到客户）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-202">The first time an item is downloaded you incur two transaction charges from the origin to the CDN, and then from the CDN to the customer.</span></span>
* <span data-ttu-id="c5aa3-203">数据是专用的，例如用于大型企业或供应链生态系统。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-203">If the data is private, such as for large enterprises or supply chain ecosystems.</span></span>

## <a name="general-guidelines-and-good-practices"></a><span data-ttu-id="c5aa3-204">一般性指导原则和最佳实践</span><span class="sxs-lookup"><span data-stu-id="c5aa3-204">General guidelines and good practices</span></span>
<span data-ttu-id="c5aa3-205">使用 CDN 是最小化应用程序负载和最大化可用性与性能的良好做法。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-205">Using the CDN is a good way to minimize the load on your application, and maximize availability and performance.</span></span> <span data-ttu-id="c5aa3-206">考虑为应用程序使用的所有适当内容和资源采用此策略。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-206">Consider adopting this strategy for all of the appropriate content and resources your application uses.</span></span> <span data-ttu-id="c5aa3-207">设计使用 CDN 的策略时，请注意以下部分中所述的要点：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-207">Consider the points in the following sections when designing your strategy to use the CDN:</span></span>  

### <a name="origin"></a><span data-ttu-id="c5aa3-208">源</span><span class="sxs-lookup"><span data-stu-id="c5aa3-208">Origin</span></span>
<span data-ttu-id="c5aa3-209">通过 CDN 部署内容时，只需指定 CDN 服务用于访问和缓存内容的 HTTP 和/或 HTTPS [终结点](/azure/cdn/cdn-create-new-endpoint)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-209">Deploying content through the CDN simply requires you to specify an HTTP and/or HTTPS [endpoint](/azure/cdn/cdn-create-new-endpoint) that the CDN service will use to access and cache the content.</span></span>

<span data-ttu-id="c5aa3-210">终结点可以指定 Azure Blob 存储容器，包括要通过 CDN 传送的静态内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-210">The endpoint can specify an Azure blob storage container that holds the static content you want to deliver through the CDN.</span></span> <span data-ttu-id="c5aa3-211">容器必须标记为公共。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-211">The container must be marked as public.</span></span> <span data-ttu-id="c5aa3-212">只能通过 CDN 获取公共容器中具有公共读取权限的 Blob。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-212">Only blobs in a public container that have public read access are available through the CDN.</span></span>

<span data-ttu-id="c5aa3-213">终结点可在应用程序的某个计算层（例如 Web 角色或虚拟机）的根目录中指定名为 **cdn** 的文件夹。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-213">The endpoint can specify a folder named **cdn** in the root of one of application’s compute layers (such as a web role or a virtual machine).</span></span> <span data-ttu-id="c5aa3-214">将在 CDN 上缓存资源请求的结果，包括动态资源，例如 ASPX 页。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-214">The results from requests for resources, including dynamic resources such as ASPX pages, will be cached on the CDN.</span></span> <span data-ttu-id="c5aa3-215">最小缓存期限为 300 秒。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-215">The minimum cache period is 300 seconds.</span></span> <span data-ttu-id="c5aa3-216">任何较短的期限会阻止将内容部署到 CDN（有关详细信息，请参阅下面的*缓存控制*标题）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-216">Any shorter period prevents the content from being deployed to the CDN (for more information, see the following heading *Cache control* below).</span></span>

<span data-ttu-id="c5aa3-217">如果使用 Azure Web 应用，可在创建 CDN 实例时选择站点，将终结点设置为该站点的根文件夹。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-217">If you are using Azure Web Apps, the endpoint is set to the root folder of the site by selecting the site when creating the CDN instance.</span></span> <span data-ttu-id="c5aa3-218">可通过 CDN 获取网站的所有内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-218">All of the content for the site will be available through the CDN.</span></span>

<span data-ttu-id="c5aa3-219">在大多数情况下，将 CDN 终结点指向应用程序的某个计算层中的文件夹会提供更大的灵活性和控制度。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-219">In most cases, pointing your CDN endpoint at a folder within one of the compute layers of your application offers more flexibility and control.</span></span> <span data-ttu-id="c5aa3-220">例如，可让你更轻松地管理当前和将来的路由要求，以及动态生成静态内容（如图像缩图）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-220">For instance, it makes it easier to manage current and future routing requirements, and dynamically generate static content such as image thumbnails.</span></span>

<span data-ttu-id="c5aa3-221">从 ASPX 页等动态源传送内容时，可以使用[查询字符串](/azure/cdn/cdn-query-string/)来区分缓存中的对象。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-221">You can use [query strings](/azure/cdn/cdn-query-string/) to differentiate objects in the cache when content is delivered from dynamic sources, such as ASPX pages.</span></span> <span data-ttu-id="c5aa3-222">但是，可以在指定 CDN 终结点时，通过 Azure 门户中的设置来禁用这种行为。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-222">However, this behavior can be disabled by a setting in the Azure portal when you specify the CDN endpoint.</span></span> <span data-ttu-id="c5aa3-223">从 Blob 存储传送内容时，查询字符串被视为字符串文本，因此将有相同名称但不同查询字符串的两个项存储为 CDN 上的独立项。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-223">When delivering content from blob storage, query strings are treated as string literals so two items that have the same name but different query strings are stored as separate items on the CDN.</span></span>

<span data-ttu-id="c5aa3-224">可以对脚本等资源和其他内容使用 URL 重写，以避免将文件移到 CDN 原始文件夹。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-224">You can utilize URL rewriting for resources, such as scripts and other content, to avoid moving your files to the CDN origin folder.</span></span>

<span data-ttu-id="c5aa3-225">使用 Azure 存储 Blob 保存 CDN 内容时，Blob 中资源的 URL 对容器和 Blob 名称区分大小写。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-225">When using Azure storage blobs to hold content for the CDN, the URL of the resources in blobs is case-sensitive for the container and blob name.</span></span>

<span data-ttu-id="c5aa3-226">使用自定义来源或 Azure Web 应用时，可以在资源的链接中指定 CDN 实例的路径。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-226">When using custom origins or Azure Web Apps, you specify the path to the CDN instance in the links to resources.</span></span> <span data-ttu-id="c5aa3-227">例如，以下操作在通过 CDN 传送的网站的 **Images** 文件夹中指定图像文件：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-227">For example, the following specifies an image file in the **Images** folder of the site that will be delivered through the CDN:</span></span>

```XML
<img src="http://[your-cdn-endpoint].azureedge.net/Images/image.jpg" />
```

### <a name="deployment"></a><span data-ttu-id="c5aa3-228">部署</span><span class="sxs-lookup"><span data-stu-id="c5aa3-228">Deployment</span></span>
<span data-ttu-id="c5aa3-229">如果未在应用程序部署包或过程中包含静态内容，该静态内容可能需要与应用程序分开设置和部署。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-229">Static content may need to be provisioned and deployed independently from the application if you do not include it in the application deployment package or process.</span></span> <span data-ttu-id="c5aa3-230">考虑这如何影响版本控制方法，也就是用于管理应用程序组件和静态资源内容的方法。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-230">Consider how this will affect the versioning approach you use to manage both the application components and the static resource content.</span></span>

<span data-ttu-id="c5aa3-231">考虑如何针对脚本与 CSS 文件处理绑定（将多个文件组合成一个文件）和缩减（删除不必要的字符，例如空格、换行符、注释和其他字符）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-231">Consider how bundling (combining several files into one file) and minification (removing unnecessary characters such as white space, new line characters, comments, and other characters) for script and CSS files will be handled.</span></span> <span data-ttu-id="c5aa3-232">这些常用的方法可减少客户端的加载时间，并与通过 CDN 传送的内容兼容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-232">These are commonly used techniques that can reduce load times for clients, and are compatible with delivering content through the CDN.</span></span> <span data-ttu-id="c5aa3-233">有关详细信息，请参阅[捆绑和缩减](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-233">For more information, see [Bundling and Minification](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification).</span></span>

<span data-ttu-id="c5aa3-234">如果需要将内容部署到其他位置，则这属于部署过程的附加步骤。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-234">If you need to deploy the content to an additional location, this will be an extra step in the deployment process.</span></span> <span data-ttu-id="c5aa3-235">如果应用程序更新 CDN 的内容（也许是按固定间隔或为了响应事件），则必须将更新的内容存储在任何其他位置以及 CDN 的终结点中。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-235">If the application updates the content for the CDN, perhaps at regular intervals or in response to an event, it must store the updated content in any additional locations as well as the endpoint for the CDN.</span></span>

<span data-ttu-id="c5aa3-236">无法在 Visual Studio 的本地 Azure 模拟器为应用程序设置 CDN 终结点。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-236">You cannot set up a CDN endpoint for an application in the local Azure emulator in Visual Studio.</span></span> <span data-ttu-id="c5aa3-237">此限制会影响单元测试、功能测试，以及最终部署前测试。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-237">This restriction will affect unit testing, functional testing, and final pre-deployment testing.</span></span> <span data-ttu-id="c5aa3-238">必须实施替代机制来支持这种做法。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-238">You must allow for this by implementing an alternative mechanism.</span></span> <span data-ttu-id="c5aa3-239">例如，可以使用自定义应用程序或公用程序将内容预先部署到 CDN，然后在缓存内容期间执行测试。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-239">For example, you could pre-deploy the content to the CDN using a custom application or utility, and perform testing during the period in which it is cached.</span></span> <span data-ttu-id="c5aa3-240">或者，使用汇编指令或全局常量控制应用程序加载资源的位置。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-240">Alternatively, use compile directives or global constants to control from where the application loads the resources.</span></span> <span data-ttu-id="c5aa3-241">例如，在调试模式下运行时，可以从本地文件夹加载资源，例如客户端脚本绑定和其他内容，并在发布模式下运行时使用 CDN。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-241">For example, when running in debug mode it could load resources such as client-side script bundles and other content from a local folder, and use the CDN when running in release mode.</span></span>

<span data-ttu-id="c5aa3-242">考虑 CDN 要支持的压缩方法：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-242">Consider which compression approach you want your CDN to support:</span></span>

* <span data-ttu-id="c5aa3-243">可以在源服务器上[启用压缩](/azure/cdn/cdn-improve-performance/)，在这种情况下，CDN 默认将支持压缩，并以 zip 或 gzip 等格式将压缩内容传送到客户端。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-243">You can [enable compression](/azure/cdn/cdn-improve-performance/) on your origin server, in which case the CDN will support compression by default and deliver compressed content to clients in a format such as zip or gzip.</span></span> <span data-ttu-id="c5aa3-244">将应用程序文件夹用作 CDN 终结点时，服务器可能会自动压缩一些内容，并且使用将内容直接传送到 Web 浏览器或其他类型的客户端时的同一方法。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-244">When using an application folder as the CDN endpoint, the server may compress some content automatically in the same way as when delivering it directly to a web browser or other type of client.</span></span> <span data-ttu-id="c5aa3-245">格式取决于客户端发送的请求中 **Accept-Encoding** 标头的值。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-245">The format depends on the value of the **Accept-Encoding** header in the request sent by the client.</span></span> <span data-ttu-id="c5aa3-246">在 Azure 中，当 CPU 利用率低于 50% 时，默认机制是自动压缩内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-246">In Azure the default mechanism is to automatically compress content when CPU utilization is below 50%.</span></span> <span data-ttu-id="c5aa3-247">如果要使用云服务来托管应用程序，则更改设置可能需要使用启动任务在 IIS 中打开动态输出压缩。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-247">If you are using a cloud service to host the application, changing the settings may require using a startup task to turn on compression of dynamic output in IIS.</span></span> <span data-ttu-id="c5aa3-248">有关详细信息，请参阅 [Enabling gzip compression with Microsoft Azure CDN through a Web Role](http://blogs.msdn.com/b/avkashchauhan/archive/2012/03/05/enableing-gzip-compression-with-windows-azure-cdn-through-web-role.aspx)（通过 Web 角色使用 Microsoft Azure CDN 来启用 gzip 压缩）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-248">See [Enabling gzip compression with Microsoft Azure CDN through a Web Role](http://blogs.msdn.com/b/avkashchauhan/archive/2012/03/05/enableing-gzip-compression-with-windows-azure-cdn-through-web-role.aspx) for more information.</span></span>
* <span data-ttu-id="c5aa3-249">可以直接在 CDN 边缘服务器上启用压缩，这种情况下 CDN 会压缩文件并将其提供给最终用户。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-249">You can enable compression directly on CDN edge servers, in which case the CDN will compress the files and serve it to end users.</span></span> <span data-ttu-id="c5aa3-250">有关详细信息，请参阅 [Azure CDN Compression](/azure/cdn/cdn-improve-performance/)（Azure CDN 压缩）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-250">For more information, see [Azure CDN Compression](/azure/cdn/cdn-improve-performance/).</span></span>

### <a name="routing-and-versioning"></a><span data-ttu-id="c5aa3-251">路由和版本控制</span><span class="sxs-lookup"><span data-stu-id="c5aa3-251">Routing and versioning</span></span>
<span data-ttu-id="c5aa3-252">可能需要在不同的时间使用不同的 CDN 实例。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-252">You may need to use different CDN instances at various times.</span></span> <span data-ttu-id="c5aa3-253">例如，在部署新版的应用程序时，可能需要使用新的 CDN 并保留以前版本的旧 CDN（以便以旧格式保存内容）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-253">For example, when you deploy a new version of the application you may want to use a new CDN and retain the old CDN (holding content in an older format) for previous versions.</span></span> <span data-ttu-id="c5aa3-254">如果将 Azure Blob 存储用作内容来源，可以创建一个独立存储帐户或容器，并将 CDN 终结点指向它。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-254">If you use Azure blob storage as the content origin, you can create a separate storage account or a separate container and point the CDN endpoint to it.</span></span> <span data-ttu-id="c5aa3-255">如果将应用程序中的 cdn 根文件夹用作 CDN 终结点，则可以使用 URL 重写方法将请求定向到不同的文件夹。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-255">If you use the cdn root folder within the application as the CDN endpoint, you can use URL rewriting techniques to direct requests to a different folder.</span></span>

<span data-ttu-id="c5aa3-256">不要使用查询字符串来表示 CDN 上资源链接中不同版本的应用程序，因为从 Azure Blob 存储检索内容时，查询字符串是资源名称（Blob 名称）的一部分。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-256">Do not use the query string to denote different versions of the application in links to resources on the CDN because, when retrieving content from Azure blob storage, the query string is part of the resource name (the blob name).</span></span> <span data-ttu-id="c5aa3-257">此方式还会影响客户端缓存资源的方式。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-257">This approach can also affect how the client caches resources.</span></span>

<span data-ttu-id="c5aa3-258">如果在 CDN 上缓存以前的资源，则在部署新版本的静态内容时更新应用程序可能是一个难题。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-258">Deploying new versions of static content when you update an application can be a challenge if the previous resources are cached on the CDN.</span></span> <span data-ttu-id="c5aa3-259">有关详细信息，请参阅*缓存控制*部分。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-259">For more information, see the section *Cache control*).</span></span>

<span data-ttu-id="c5aa3-260">考虑按国家/地区限制 CDN 内容访问。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-260">Consider restricting the CDN content access by country.</span></span> <span data-ttu-id="c5aa3-261">Azure CDN 允许根据来源国家/地区筛选请求，并限制传送的内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-261">Azure CDN allows you to filter requests based on the country of origin and restrict the content delivered.</span></span> <span data-ttu-id="c5aa3-262">有关详细信息，请参阅 [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/)（按国家/地区限制内容访问）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-262">For more information, see [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/).</span></span>

### <a name="cache-control"></a><span data-ttu-id="c5aa3-263">缓存控制</span><span class="sxs-lookup"><span data-stu-id="c5aa3-263">Cache control</span></span>
<span data-ttu-id="c5aa3-264">考虑如何管理系统中的缓存。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-264">Consider how to manage caching within the system.</span></span> <span data-ttu-id="c5aa3-265">例如，在将文件夹用作 CDN 来源时，可以指定生成内容的页面可缓存性，以及特定文件夹中所有资源的内容过期时间。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-265">For example, when using a folder as the CDN origin you can specify the cacheability of pages that generate the content, and the content expiry time for all the resources in a specific folder.</span></span> <span data-ttu-id="c5aa3-266">还可以为 CDN 以及使用标准 HTTP 标头的客户端指定缓存属性。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-266">You can also specify cache properties for the CDN, and for the client using standard HTTP headers.</span></span> <span data-ttu-id="c5aa3-267">尽管你可能已在服务器和客户端上管理缓存，但使用 CDN 将让你更了解内容的缓存方式和位置。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-267">Although you should already be managing caching on the server and client, using the CDN will help to make you more aware of how your content is cached, and where.</span></span>

<span data-ttu-id="c5aa3-268">要防止在 CDN 上使用对象，可以从来源中删除这些对象（Blob 容器或应用程序 *cdn* 根文件夹）、移除或删除 CDN 终结点，或者在使用 Blob 存储的情况下，将容器或 Blob 设为专用。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-268">To prevent objects from being available on the CDN you can delete them from the origin (blob container or application *cdn* root folder), remove or delete the CDN endpoint, or, in the case of blob storage, make the container or blob private.</span></span> <span data-ttu-id="c5aa3-269">但是，仅当项的生存时间已过期时，才从 CDN 中将其删除。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-269">However, items will be removed from the CDN only when their time-to-live expires.</span></span> <span data-ttu-id="c5aa3-270">如果未指定缓存过期期限（例如从 Blob 存储加载内容时），内容会在 CDN 中最长缓存 7 天。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-270">If no cache expiry period is specified (such as when content is loaded from blob storage), it is cached on the CDN for up to seven days.</span></span>  <span data-ttu-id="c5aa3-271">也可手动[清除 CDN 终结点](/azure/cdn/cdn-purge-endpoint/)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-271">You can also manually [purge a CDN endpoint](/azure/cdn/cdn-purge-endpoint/).</span></span>

<span data-ttu-id="c5aa3-272">在 Web 应用程序中，可以在 web.config 文件的 *system.webServer/staticContent* 节中，使用 *clientCache* 元素来配置所有内容的缓存和过期。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-272">In a web application, you can set the caching and expiry for all content by using the *clientCache* element in the *system.webServer/staticContent* section of the web.config file.</span></span> <span data-ttu-id="c5aa3-273">请记住，在文件夹中放置 web.config 文件时，会影响该文件夹及其所有子文件夹中的文件。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-273">Remember that when you place a web.config file in a folder it affects the files in that folder and all subfolders.</span></span>

<span data-ttu-id="c5aa3-274">如果动态创建 CDN 的内容（例如，在应用程序代码中），请确保在每个页面上指定 *Cache.SetExpires* 属性。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-274">If you create the content for the CDN dynamically (in your application code for example), ensure that you specify the *Cache.SetExpires* property on each page.</span></span> <span data-ttu-id="c5aa3-275">CDN 不会缓存使用默认可缓存性设置 (*public*) 的页面的输出。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-275">The CDN will not cache the output from pages that use the default cacheability setting of *public*.</span></span>  <span data-ttu-id="c5aa3-276">将缓存过期期限设置为适当值，以确保不会在极短时间内从应用程序丢弃和重新加载内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-276">Set the cache expiry period to a suitable value to ensure that the content is not discarded and reloaded from the application at very short intervals.</span></span>  

### <a name="security"></a><span data-ttu-id="c5aa3-277">“安全”</span><span class="sxs-lookup"><span data-stu-id="c5aa3-277">Security</span></span>
<span data-ttu-id="c5aa3-278">CDN 可以使用 CDN 提供的证书通过 HTTPS (SSL) 传送内容，也可以通过标准 HTTP 传送内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-278">The CDN can deliver content over HTTPS (SSL), by using the certificate provided by the CDN, as well as over standard HTTP.</span></span> <span data-ttu-id="c5aa3-279">若要避免浏览器发出有关内容混合的警告，可能需要使用 HTTPS 来请求通过 HTTPS 加载的页面所显示的静态内容。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-279">To avoid browser warnings about mixed content, you might need to use HTTPS to request static content that is displayed in pages loaded through HTTPS.</span></span>

<span data-ttu-id="c5aa3-280">使用 CDN 传送静态资产（如字体文件）时，如果使用 XMLHttpRequest 调用来从不同的域请求这些资源，则可能会遇到同源策略问题。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-280">If you deliver static assets such as font files by using the CDN, you might encounter same-origin policy issues if you use an *XMLHttpRequest* call to request these resources from a different domain.</span></span> <span data-ttu-id="c5aa3-281">许多 Web 浏览器会阻止跨源资源共享 (CORS)，除非 Web 服务器已配置为设置相应的响应标头。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-281">Many web browsers prevent cross-origin resource sharing (CORS) unless the web server is configured to set the appropriate response headers.</span></span> <span data-ttu-id="c5aa3-282">可使用以下任一方法配置 CDN 以支持 CORS：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-282">You can configure the CDN to support CORS by using one of the following methods:</span></span>

* <span data-ttu-id="c5aa3-283">使用 CDN 规则引擎将 CORS 标头添加到响应。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-283">Use the CDN rules engine to add CORS headers to the responses.</span></span> <span data-ttu-id="c5aa3-284">此方法通常是可使用的最佳方法，因为它支持通配符和多个特定允许的来源。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-284">This method is usually the best one to use because both wildcard and multiple specific-allowed origins are supported.</span></span> <span data-ttu-id="c5aa3-285">有关详细信息，请参阅[将 Azure CDN 与 CORS 一起使用](https://docs.microsoft.com/en-us/azure/cdn/cdn-cors)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-285">For more information, see [Using Azure CDN with CORS](https://docs.microsoft.com/en-us/azure/cdn/cdn-cors).</span></span> 
* <span data-ttu-id="c5aa3-286">将 CorsRule 添加到服务属性。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-286">Add a *CorsRule* to the service properties.</span></span> <span data-ttu-id="c5aa3-287">如果内容传送来源是 Azure Blob 存储，可以使用此方法。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-287">You can use this method if the origin from which you are delivering content is Azure blob storage.</span></span> <span data-ttu-id="c5aa3-288">该规则可以指定 CORS 请求的允许来源、GET 等允许的方法，以及以秒为单位的规则最长期限（在加载原始内容后，客户端必须请求链接资源的时间段）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-288">The rule can specify the allowed origins for CORS requests, the allowed methods such as GET, and the maximum age in seconds for the rule (the period within which the client must request the linked resources after loading the original content).</span></span> <span data-ttu-id="c5aa3-289">将存储上的 CORS 设置为与 CDN 配合使用时，允许的来源列表仅支持“\*”通配符。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-289">When you set CORS on Storage to use with CDN, only the ‘\*’ wildcard is supported for the allowed origins list.</span></span> <span data-ttu-id="c5aa3-290">有关详细信息，请参阅 [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx)（Azure 存储服务的跨域资源共享 (CORS) 支持）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-290">For more information, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>
* <span data-ttu-id="c5aa3-291">配置应用程序配置文件中的出站规则，从而在所有响应上设置 Access-Control-Allow-Origin 标头。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-291">Configure outbound rules in the application configuration file to set an *Access-Control-Allow-Origin* header on all responses.</span></span> <span data-ttu-id="c5aa3-292">如果源服务器正在运行 IIS，可以使用此方法。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-292">You can use this method if the origin server is running IIS.</span></span> <span data-ttu-id="c5aa3-293">将此方法与 CDN 配合使用时，允许的来源列表仅支持“\*”通配符。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-293">When you use this method with CDN, only the ‘\*’ wildcard is supported for the allowed origins list.</span></span> <span data-ttu-id="c5aa3-294">有关使用重写规则的详细信息，请参阅 [URL 重写模块](http://www.iis.net/learn/extensions/url-rewrite-module)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-294">For more information about using rewrite rules, see [URL Rewrite Module](http://www.iis.net/learn/extensions/url-rewrite-module).</span></span>

### <a name="custom-domains"></a><span data-ttu-id="c5aa3-295">自定义域</span><span class="sxs-lookup"><span data-stu-id="c5aa3-295">Custom domains</span></span>
<span data-ttu-id="c5aa3-296">Azure CDN 允许指定[自定义域名](/azure/cdn/cdn-map-content-to-custom-domain/)，并使用它通过 CDN 访问资源。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-296">The Azure CDN allows you to specify a [custom domain name](/azure/cdn/cdn-map-content-to-custom-domain/) and use it to access resources through the CDN.</span></span> <span data-ttu-id="c5aa3-297">还可以在 DNS 中使用 *CNAME* 记录来设置自定义子域名。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-297">You can also set up a custom subdomain name using a *CNAME* record in your DNS.</span></span> <span data-ttu-id="c5aa3-298">使用这种方法可以提供另一个抽象与控制层。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-298">Using this approach can provide an additional layer of abstraction and control.</span></span>

<span data-ttu-id="c5aa3-299">如果使用 *CNAME*，则无法使用 SSL，因为 CDN 使用自身的单个 SSL 证书，而此证书与自定义域/子域名不匹配。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-299">If you use a *CNAME*, you cannot use SSL because the CDN uses its own single SSL certificate, and this certificate will not match your custom domain/subdomain names.</span></span>

### <a name="cdn-fallback"></a><span data-ttu-id="c5aa3-300">CDN 回退</span><span class="sxs-lookup"><span data-stu-id="c5aa3-300">CDN fallback</span></span>
<span data-ttu-id="c5aa3-301">考虑应用程序如何处理 CDN 失败或暂时不可用的情况。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-301">Consider how your application will cope with a failure or temporary unavailability of the CDN.</span></span> <span data-ttu-id="c5aa3-302">如果 CDN 不可用，客户端应用程序可以使用执行前面请求期间的本地缓存资源的副本（位于客户端），或者可以添加代码来检测失败，而不是从来源请求资源（应用程序文件夹或保留资源的 Azure Blob 容器）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-302">Client applications may be able to use copies of the resources that were cached locally (on the client) during previous requests, or you can include code that detects failure and instead requests resources from the origin (the application folder or Azure blob container that holds the resources) if the CDN is unavailable.</span></span>

<span data-ttu-id="c5aa3-303">以下示例演示了回退机制如何在 Razor 视图中使用[标记帮助器](https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-303">The example below shows the fallback mechanisms using [Tag Helpers](https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro) in a Razor view.</span></span>

```HTML
...
<link rel="stylesheet" href="https://[your-cdn-endpoint].azureedge.net/lib/bootstrap/dist/css/bootstrap.min.css"
      asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
      asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"/>
<link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true"/>
...
<script src="https://[your-cdn-endpoint].azureedge.net/lib/jquery/dist/jquery-2.2.0.min.js"
        asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
        asp-fallback-test="window.jQuery">
</script>
<script src="https://[your-cdn-endpoint].azureedge.net/lib/bootstrap/dist/js/bootstrap.min.js"
        asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
        asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal">
</script>
...
```

### <a name="search-engine-optimization"></a><span data-ttu-id="c5aa3-304">搜索引擎优化</span><span class="sxs-lookup"><span data-stu-id="c5aa3-304">Search engine optimization</span></span>
<span data-ttu-id="c5aa3-305">如果 SEO 是应用程序中重要的考虑因素，请执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-305">If SEO is an important consideration in your application, perform the following tasks:</span></span>

* <span data-ttu-id="c5aa3-306">在每个页面或资源中包含 *Rel* 规范标头。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-306">Include a *Rel* canonical header in each page or resource.</span></span>
* <span data-ttu-id="c5aa3-307">使用 *CNAME* 子域记录，并使用此名称访问资源。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-307">Use a *CNAME* subdomain record and access the resources using this name.</span></span>
* <span data-ttu-id="c5aa3-308">考虑 CDN 的 IP 地址所在的国家或地区，可能与应用程序本身所在的国家或地区不同而造成的影响。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-308">Consider the impact of the fact that the IP address of the CDN may be a country or region that differs from that of the application itself.</span></span>
* <span data-ttu-id="c5aa3-309">使用 Azure Blob 存储作为来源时，针对 CDN 上的资源保持与应用程序文件夹中相同的文件结构。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-309">When using Azure blob storage as the origin, maintain the same file structure for resources on the CDN as in the application folders.</span></span>

### <a name="monitoring-and-logging"></a><span data-ttu-id="c5aa3-310">监视和日志记录</span><span class="sxs-lookup"><span data-stu-id="c5aa3-310">Monitoring and logging</span></span>
<span data-ttu-id="c5aa3-311">添加 CDN 作为应用程序监视策略的一部分，以检测并度量失败或发生的过度延迟现象。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-311">Include the CDN as part of your application monitoring strategy to detect and measure failures or extended latency occurrences.</span></span>  <span data-ttu-id="c5aa3-312">位于 Azure 门户站点上的 CDN 配置文件管理器中提供了监视功能。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-312">Monitoring is available from the CDN profile manager located on the Azure portal site.</span></span>

<span data-ttu-id="c5aa3-313">为 CDN 启用日志记录，并在日常操作期间监视此日志。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-313">Enable logging for the CDN and monitor this log as part of your daily operations.</span></span>

<span data-ttu-id="c5aa3-314">考虑分析使用模式的 CDN 流量。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-314">Consider analyzing the CDN traffic for usage patterns.</span></span> <span data-ttu-id="c5aa3-315">Azure 门户提供了可用于监视以下信息的工具：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-315">The Azure portal provides tools that enable you to monitor:</span></span>

* <span data-ttu-id="c5aa3-316">带宽，</span><span class="sxs-lookup"><span data-stu-id="c5aa3-316">Bandwidth,</span></span>
* <span data-ttu-id="c5aa3-317">传输的数据，</span><span class="sxs-lookup"><span data-stu-id="c5aa3-317">Data Transferred,</span></span>
* <span data-ttu-id="c5aa3-318">命中数（状态代码），</span><span class="sxs-lookup"><span data-stu-id="c5aa3-318">Hits (status codes),</span></span>
* <span data-ttu-id="c5aa3-319">缓存状态，</span><span class="sxs-lookup"><span data-stu-id="c5aa3-319">Cache Status,</span></span>
* <span data-ttu-id="c5aa3-320">缓存命中率，以及</span><span class="sxs-lookup"><span data-stu-id="c5aa3-320">Cache HIT Ratio, and</span></span>
* <span data-ttu-id="c5aa3-321">IPV4/IPV6 请求比率。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-321">Ratio of IPV4/IPV6 requests.</span></span>

<span data-ttu-id="c5aa3-322">有关详细信息，请参阅 [Analyze CDN usage patterns](/azure/cdn/cdn-analyze-usage-patterns/)（分析 CDN 使用模式）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-322">For more information, see [Analyze CDN usage patterns](/azure/cdn/cdn-analyze-usage-patterns/).</span></span>

### <a name="cost-implications"></a><span data-ttu-id="c5aa3-323">成本影响</span><span class="sxs-lookup"><span data-stu-id="c5aa3-323">Cost implications</span></span>
<span data-ttu-id="c5aa3-324">需要支付 CDN 的出站数据传输费用。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-324">You are charged for outbound data transfers from the CDN.</span></span>  <span data-ttu-id="c5aa3-325">此外，如果使用 Blob 存储来托管资产，则当 CDN 从应用程序加载数据时，需要支付存储交易费用。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-325">Additionally, if you're using blob storage to host your assets, you are charged for storage transactions when the CDN loads data from your application.</span></span> <span data-ttu-id="c5aa3-326">为内容设置可行的缓存过期期限以确保最新状态，但不要短到导致将内容从应用程序或 Blob 存储中重复地重载到 CDN。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-326">Set realistic cache expiry periods for content to ensure freshness, but not so short as to cause repeated reloading of content from the application or blob storage to the CDN.</span></span>

<span data-ttu-id="c5aa3-327">很少下载的项会产生两笔事务费用，而且不会大幅降低服务器负载。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-327">Items that are rarely downloaded will incur the two transaction charges without providing any significant reduction in server load.</span></span>

### <a name="bundling-and-minification"></a><span data-ttu-id="c5aa3-328">绑定和缩减</span><span class="sxs-lookup"><span data-stu-id="c5aa3-328">Bundling and minification</span></span>
<span data-ttu-id="c5aa3-329">使用绑定和缩减可减少存储在 CDN 中的 JavaScript 代码和 HTML 页面等资源的大小。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-329">Use bundling and minification to reduce the size of resources such as JavaScript code and HTML pages stored in the CDN.</span></span> <span data-ttu-id="c5aa3-330">此策略有助于缩短将这些项下载到客户端所需的时间。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-330">This strategy can help to reduce the time taken to download these items to the client.</span></span>

<span data-ttu-id="c5aa3-331">可以由 ASP.NET 处理绑定和缩减。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-331">Bundling and minification can be handled by ASP.NET.</span></span> <span data-ttu-id="c5aa3-332">在 MVC 项目中，可以在 *BundleConfig.cs* 中定义绑定。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-332">In an MVC project, you define your bundles in *BundleConfig.cs*.</span></span> <span data-ttu-id="c5aa3-333">通过调用 *Script.Render* 方法（通常在代码的 view 类中），可以创建对缩减脚本绑定的引用。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-333">A reference to the minified script bundle is created by calling the *Script.Render* method, typically in code in the view class.</span></span> <span data-ttu-id="c5aa3-334">此引用包含内含一个基于绑定内容的查询字符串（包括哈希）。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-334">This reference contains a query string that includes a hash, which is based on the content of the bundle.</span></span> <span data-ttu-id="c5aa3-335">如果绑定内容发生更改，生成的哈希也会更改。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-335">If the bundle contents change, the generated hash will also change.</span></span>  

<span data-ttu-id="c5aa3-336">默认情况下，Azure CDN 实例已禁用“查询字符串状态”设置。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-336">By default, Azure CDN instances have the *Query String Status* setting disabled.</span></span> <span data-ttu-id="c5aa3-337">为了使 CDN 正确处理更新的脚本绑定，必须为 CDN 实例启用“查询字符串状态”设置。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-337">In order for updated script bundles to be handled properly by the CDN, you must enable the *Query String Status* setting for the CDN instance.</span></span> <span data-ttu-id="c5aa3-338">请注意，设置可能需要一个小时或以上才会生效。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-338">Note that it may take an hour or more before the setting takes effect.</span></span>

### <a name="features"></a><span data-ttu-id="c5aa3-339">功能</span><span class="sxs-lookup"><span data-stu-id="c5aa3-339">Features</span></span>

<span data-ttu-id="c5aa3-340">Azure 拥有几种 CDN 产品。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-340">Azure has several CDN products.</span></span> <span data-ttu-id="c5aa3-341">选择 CDN 时，请考虑每个产品支持的功能。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-341">When selecting a CDN, consider the features that each product supports.</span></span> <span data-ttu-id="c5aa3-342">有关详细信息，请参阅 [Azure CDN 功能][cdn-features]。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-342">See [Azure CDN Features][cdn-features] for details.</span></span> <span data-ttu-id="c5aa3-343">可能要考虑的高级功能包括：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-343">Premium features that you may wish to consider include:</span></span>

- <span data-ttu-id="c5aa3-344">**[规则引擎](/azure/cdn/cdn-rules-engine)**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-344">**[Rules engine](/azure/cdn/cdn-rules-engine)**.</span></span> <span data-ttu-id="c5aa3-345">使用规则引擎，可允许自定义 HTTP 请求的处理方式，例如，阻止交付某些类型的内容、定义缓存策略以及修改 HTTP 标头。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-345">The rules engine allows you to customize how HTTP requests are handled, such as blocking the delivery of certain types of content, defining a caching policy, and modifying HTTP headers.</span></span> 

- <span data-ttu-id="c5aa3-346">**[实时统计信息](/azure/cdn/cdn-real-time-stats)**。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-346">**[Real-time statistics](/azure/cdn/cdn-real-time-stats)**.</span></span> <span data-ttu-id="c5aa3-347">监视实时数据（如带宽、缓存状态和与 CDN 配置文件的并发连接）并接收[实时警报](/azure/cdn/cdn-real-time-alerts)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-347">Monitor real-time data, such as bandwidth, cache statuses, and concurrent connections to your CDN profile, and receive [real-time alerts](/azure/cdn/cdn-real-time-alerts).</span></span> 


## <a name="rules-engine-url-rewriting-example"></a><span data-ttu-id="c5aa3-348">规则引擎 URL 重写示例</span><span class="sxs-lookup"><span data-stu-id="c5aa3-348">Rules engine URL rewriting example</span></span>

<span data-ttu-id="c5aa3-349">下图演示了使用 CDN 时如何执行 [URL 重写](https://technet.microsoft.com/library/ee215194.aspx)。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-349">The following diagram demonstrates how to perform [URL rewriting](https://technet.microsoft.com/library/ee215194.aspx) when using the CDN.</span></span> <span data-ttu-id="c5aa3-350">CDN 发出的、将要缓存的内容请求会根据资源类型（例如脚本和图像）重定向到应用程序根目录中的特定文件夹。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-350">Requests from the CDN for content that is cached are redirected to specific folders within the application root based on the type of the resource (such as scripts and images).</span></span>  

![规则引擎示意图](./images/cdn/rules-engine.png)

<span data-ttu-id="c5aa3-352">这些重写规则将执行以下重定向：</span><span class="sxs-lookup"><span data-stu-id="c5aa3-352">These rewrite rules perform the following redirections:</span></span>

* <span data-ttu-id="c5aa3-353">第一个规则可让你在资源的文件名中嵌入版本，然后将忽略该版本。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-353">The first rule allows you to embed a version in the file name of a resource, which is then ignored.</span></span> <span data-ttu-id="c5aa3-354">例如，Filename_v123.jpg 重写为 Filename.jpg。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-354">For example, *Filename_v123.jpg* is rewritten as *Filename.jpg*.</span></span>
* <span data-ttu-id="c5aa3-355">接下来的四个规则演示了当不想将资源存储在 Web 角色的根目录中名为 cdn\* 的文件夹时，如何重定向请求。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-355">The next four rules show how to redirect requests if you do not want to store the resources in a folder named *cdn*\* in the root of the web role.</span></span> <span data-ttu-id="c5aa3-356">规则将 cdn/Images、cdn/Content、cdn/Scripts 和 cdn/bundles URL 映射到它们在 Web 角色中的相应根文件夹。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-356">The rules map the *cdn/Images*, *cdn/Content*, *cdn/Scripts*, and *cdn/bundles* URLs to their respective root folders in the web role.</span></span>

<span data-ttu-id="c5aa3-357">请注意，使用 URL 重写需要对资源绑定做出一些更改。</span><span class="sxs-lookup"><span data-stu-id="c5aa3-357">Note that using URL rewriting requires you to make some changes to the bundling of resources.</span></span>     

## <a name="more-information"></a><span data-ttu-id="c5aa3-358">详细信息</span><span class="sxs-lookup"><span data-stu-id="c5aa3-358">More information</span></span>
* [<span data-ttu-id="c5aa3-359">Azure CDN</span><span class="sxs-lookup"><span data-stu-id="c5aa3-359">Azure CDN</span></span>](https://azure.microsoft.com/services/cdn/)
* [<span data-ttu-id="c5aa3-360">Azure 内容交付网络 (CDN) 文档</span><span class="sxs-lookup"><span data-stu-id="c5aa3-360">Azure Content Delivery Network (CDN) Documentation</span></span>](https://azure.microsoft.com/documentation/services/cdn/)
* [<span data-ttu-id="c5aa3-361">使用 Azure CDN</span><span class="sxs-lookup"><span data-stu-id="c5aa3-361">Using Azure CDN</span></span>](/azure/cdn/cdn-create-new-endpoint/)
* <span data-ttu-id="c5aa3-362">[将云服务与 Azure CDN 集成](/azure/cdn/cdn-cloud-service-with-cdn/)(https://azure.microsoft.com/blog/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network/)</span><span class="sxs-lookup"><span data-stu-id="c5aa3-362">[Integrate a cloud service with Azure CDN](/azure/cdn/cdn-cloud-service-with-cdn/)(https://azure.microsoft.com/blog/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network/)</span></span>


<!-- links -->

[cdn-features]: /azure/cdn/cdn-overview#azure-cdn-features
